var FlatSliderObj;(function(a){FlatSliderObj={options:{min:0,max:1,value:0,step:0.1,einheit:"",range:false},min_sichtbar:true,max_sichtbar:true,_create:function(){var c=a.extend({},this.options,{slide:a.proxy(this.on_slide,this)});var e=this.element.attr("class");this.element.removeClass();if(e===""){e="flat-slider"}this.$slider_container=a('<div class="'+e+'"><div class="slider"></div><div class="min">'+this.options.min+" "+this.options.einheit+'</div><div class="max">'+this.options.max+" "+this.options.einheit+"</div></div>");if(this.options.range===true){this.$slider_container.append('<div class="min_value">'+this.options.values[0]+" "+this.options.einheit+'</div><div class="max_value">'+this.options.values[1]+" "+this.options.einheit+"</div>")}else{this.$slider_container.append('<div class="value">'+this.options.value+" "+this.options.einheit+"</div>")}this.element.after(this.$slider_container);this.$slider=this.$slider_container.find(".slider");this.$min=this.$slider_container.find(".min");this.$max=this.$slider_container.find(".max");if(this.options.range===true){this.$min_value=this.$slider_container.find(".min_value");this.$max_value=this.$slider_container.find(".max_value")}else{this.$wert=this.$slider_container.find(".value")}this.$slider.slider(c);var f=this;if(f.options.range===true){var d=a(this.$slider.find(".ui-slider-handle")[0]);var b=a(this.$slider.find(".ui-slider-handle")[1]);d.data("handle","min");b.data("handle","max");this._update_range_handle(d);this._update_range_handle(b);this._update_range_handle(d);this._update_range_handle(b)}else{var g=this.$slider.find(".ui-slider-handle");g.data("handle","einfach");this._update_normal_handle(g)}},_destroy:function(){},_setOption:function(b,c){this._super("_setOption",b,c)},on_slide:function(b,c){if(this.options.range===true){this.element.val(c.values[0]+";"+c.values[1]);this.$min_value.html(c.values[0]+" "+this.options.einheit);this.$max_value.html(c.values[1]+" "+this.options.einheit);this._update_range_handle(a(c.handle))}else{this.element.val(c.value+" "+this.options.einheit);this.$wert.html(c.value+" "+this.options.einheit);this._update_normal_handle(a(c.handle))}},_update_range_handle:function(b){var d=parseInt(b.position().left,10);var h=b.data("handle");var c=parseInt(this.$min.position().left,10);var i=parseInt(this.$max.position().left,10);var g=this.$min.width();var k=this.$max.width();var j=parseInt(this.$slider_container.css("padding-left").replace(/px/,""),10);var m=this.$min_value.width();var l=this.$max_value.width();var f=this.$min_value.position().left;var e=this.$max_value.position().left;if(h==="min"){f=d-m+j;if(f<c){f=c}if(f+k>=e-15){f=e-g-15}if(f<0){f=0}this.$min_value.css("left",f)}else{if(h==="max"){e=d+j;if(e+l>i+k){e=i+k-l}if(e<=f+g+10){e=f+g+10}this.$max_value.css("left",e)}}if(this.min_sichtbar===true&&f<=c+g){this.$min.css("opacity",0);this.min_sichtbar=false}else{if(this.min_sichtbar===false&&f>c+g){this.$min.css("opacity",1);this.min_sichtbar=true}}if(this.max_sichtbar===true&&e+l>i){this.$max.css("opacity",0);this.max_sichtbar=false}else{if(this.max_sichtbar===false&&e+l<=i){this.$max.css("opacity",1);this.max_sichtbar=true}}},_update_normal_handle:function(h){var b=parseInt(h.position().left,10);var g=parseInt(this.$min.position().left,10);var d=parseInt(this.$max.position().left,10);var c=this.$max.width();var f=this.$wert.width();var e=b-Math.round(f/2);if(e<=g){e=g}if(e+f>=d+c){e=d+c-f}this.$wert.css("left",e);if(this.min_sichtbar===true&&e-f<=g){this.$min.css("opacity",0);this.min_sichtbar=false}else{if(this.min_sichtbar===false&&e-f>g){this.$min.css("opacity",1);this.min_sichtbar=true}}if(this.max_sichtbar===true&&e+f>d){this.$max.css("opacity",0);this.max_sichtbar=false}else{if(this.max_sichtbar===false&&e+f<d){this.$max.css("opacity",1);this.max_sichtbar=true}}}};a.widget("custom.flatslider",FlatSliderObj)})(jQuery);