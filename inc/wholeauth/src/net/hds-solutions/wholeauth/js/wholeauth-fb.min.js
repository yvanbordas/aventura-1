(function(d,b,g){var f=b.registerModule("fb","0.1.8");var e="";var a=false;var c=null;f.init=function(h,i){c=h;d.ajaxSetup({cache:true});if(typeof d("#fb-root")[0]==="undefined"){d(document.body).append('<div id="fb-root"></div>')}d.getScript("//connect.facebook.net/"+(i!==g?i:"en_US")+"/all.js#xfbml=1&appId="+c,function(){FB.init({appId:c,status:true,cookie:true,xfbml:true});a=true});delete f.init};f.setScope=function(h){e=h};f.setCanvasSize=function(h,i){FB.Canvas.setSize({width:h,height:i})};f.login=function(h){if(!b.wait(typeof FB==="undefined"||!a,f.login,h)){return}FB.login(function(i){if(typeof h==="function"){h(i.authResponse)}},{scope:e})};f.logout=function(h){if(!b.wait(typeof FB==="undefined"||!a,f.logout,h)){return}b.fb.checkLogin(function(i){if(i){FB.logout(function(j){if(typeof h==="function"){h(j)}})}})};f.checkLogin=function(h){if(!b.wait(typeof FB==="undefined"||!a,f.checkLogin,h)){return}FB.getLoginStatus(function(i){if(typeof h==="function"){h(i.status==="connected")}})};f.getUser=function(h){FB.api("/me",h)};f.fanGate=function(h){if(!b.wait(typeof FB==="undefined"||!a,f.fanGate,h)){return}d.ajax({type:"POST",dataType:"json",url:"?m=fangate",data:{appID:c},success:function(i){if(typeof h==="function"){h(i.success)}},error:function(){if(typeof h==="function"){h(false)}}})};f.autoFanGate=function(h){if(!b.wait(typeof FB==="undefined"||!a,f.autoFanGate,h)){return}b.fb.fanGate(function(i){if(!i){b.fb.autoFanGate(h)}else{h()}})};f.share=function(h,i){FB.ui({method:"share",href:h,},i)}}(jQuery,WholeAuth));