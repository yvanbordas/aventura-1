(function(g,m,c){var i=m.registerModule("fx","0.1.15",true);var k={};i.init=function(){for(var o in k){i[o]=k[o].fn;i[o].version=k[o].version;k[o].init();delete k[o].init}};var f=function(p,o,q){m.log("[WholeAuth:FX] Registering plugin "+p+" v"+o);k[p]={};k[p].version=o;k[p].fn=function(){};k[p].elements=[];k[p].priv={};k[p].init=function(){};k[p].auto=q|false;return k[p]};var d=f("autoScroll","1.1");d.fn=function(q,p){if(p===c){p="vertical"}d.elements[q]={};var o=d.elements[q];o.id=q;o.orientation=p;o.margin=g(q).css("margin-left");o.mousePos=0;o.timeout=null;o.interval=null;g(q).parent().mousemove(function(r){o.mousePos=r.clientX});g(q).parent().mouseover(function(){clearTimeout(o.timeout);if(o.interval!==null){return}o.interval=setInterval(function(){var v=g(q).parent().width();var t=g(q).width()-v;if(v>g(q).width()){g(q).css({"margin-left":-(t/2)+"px"});return}var r=o.mousePos-g(q).parent().offset().left;var s=100/v*r;var u=(t/100*s*-1)-parseInt(g(q).css("margin-left"));var w=parseInt(g(q).css("margin-left"))-u*0.1*-1;g(q).css({"margin-left":(w)+"px"})},25)});g(q).parent().mouseout(function(){o.timeout=setTimeout(function(){clearInterval(o.interval);o.interval=null},2000)})};d.init=function(){g(window).resize(d.priv.onResize);g(d.priv.onResize)};d.priv.onResize=function(){for(var q in d.elements){var o=d.elements[q];var r=g(o.id).parent().width();var p=g(o.id).width()-r;g(o.id).css({"margin-left":-(p/2)+"px"})}};var n=f("rowHeight","1.1");n.fn=function(p){n.elements[p]={};var o=n.elements[p];o.id=p};n.init=function(){g(window).resize(n.priv.onResize);g(n.priv.onResize)};n.priv.onResize=function(){for(var t in n.elements){var p=n.elements[t];var o=0,q=0,u=new Array(),s,r=0;g(p.id).each(function(){s=g(this);g(s).height("auto");topPostion=s.position().top;if(q!=topPostion){for(currentDiv=0;currentDiv<u.length;currentDiv++){u[currentDiv].height(o)}u.length=0;q=topPostion;o=s.height();u.push(s)}else{u.push(s);o=(o<s.height())?(s.height()):(o)}for(currentDiv=0;currentDiv<u.length;currentDiv++){u[currentDiv].height(o)}})}};var l=f("dynamicFixed","1.3");l.fn=function(r,s,q,p){l.elements[r]={};var o=l.elements[r];o.element=g(r);o.start=s|0;o.end=q|0;o.smooth=p|0;o.oMargin=g(r).css("margin-top")};l.init=function(){g(window).scroll(l.priv.onScroll)};l.priv.onScroll=function(){for(var p in l.elements){var o=l.elements[p];var q=o.oMargin;if(g(window).scrollTop()>o.start-o.smooth){if(g(window).scrollTop()>o.start){if(g(window).scrollTop()<o.end){q=g(window).scrollTop()-o.start+o.smooth/2}else{q=o.end-o.start+o.smooth/2}}else{$percent=100/o.smooth*(o.start-o.smooth-g(window).scrollTop())*-1;$percent=$percent/100*$percent/2;q=o.smooth/100*$percent}}o.element.css("margin-top",q)}};var b=f("fadeScroll","1.0");b.fn=function(r,s,t,q,o){b.elements[r]={};var p=b.elements[r];p.element=g(r);p.property=s;p.start=t;p.end=q;p.max=o|q};b.init=function(){g(window).scroll(b.priv.onScroll);g(b.priv.onScroll)};b.priv.onScroll=function(){for(var q in b.elements){var p=b.elements[q];var o=100/p.end*(g(window).scrollTop()<p.start?0:(g(window).scrollTop()>p.start+p.max?p.max:g(window).scrollTop()-p.start));if(p.property==="opacity"){p.element.css("opacity",o/100)}if(p.property==="left"){p.element.css("width",o+"%")}if(p.property==="top"){p.element.css("height",o+"%")}if(p.property==="right"){p.element.css("left",(100-o)+"%");p.element.css("width",o+"%")}if(p.property==="bottom"){p.element.css("top",-o+"%");p.element.css("height",o+"%")}}};var j=f("fill","1.1");j.fn=function(o,q,p){g(q).resize(function(){$dAspect=g(q).width()/g(q).height();if(p>$dAspect){$temp_height=g(q).height();$temp_width=parseInt(g(q).height()*p)}else{$temp_width=g(q).width();$temp_height=parseInt(g(q).width()/p)}g(o).find("img").css({width:$temp_width,height:$temp_height,"margin-left":((g(q).width()-$temp_width)/2)+"px","margin-top":((g(q).height()-$temp_height)/2)+"px"})}).trigger("resize")};var a=f("parallax","1.2");a.fn=function(q,o,r){a.elements[q]={};var p=a.elements[q];p.id=q;p.left=g(q).position().left;p.top=g(q).position().top;p.x=o;p.y=r;p.parent=g(q).parent();p.width=g(q).parent().width()};a.init=function(){g(window).mousemove(a.priv.onMouseMove);setInterval(a.priv.onParallax,15)};a.priv.moveX=0;a.priv.moveY=0;a.priv.onMouseMove=function(q){var o=parseInt(g(window).width())/2;var p=parseInt(g(window).height())/2;a.priv.moveX=Math.round(100/o*(q.pageX-o))*-1;a.priv.moveY=Math.round(100/p*(q.pageY-p))*-1};a.priv.onParallax=function(){for(var t in a.elements){var o=a.elements[t];var q=100/o.width*o.parent.width();q=100-((100-q)/100*(100-q));var u=g(o.id).position().left/100*q;var s=g(o.id).position().top/100*q;var r=((o.left+(o.x/100*a.priv.moveX))-u)/10;var p=((o.top+(o.y/100*a.priv.moveY))-s)/10;g(o.id).css({left:u+r,top:s+p})}};var h=f("slider","1.5");h.fn=function(q,p){h.elements[q]={};var o=h.elements[q];o.sliders=[];o.count=0;o.pos=0;o.next=0;o.speed=p.speed|50;o.bback=typeof p.back!=="undefined"?p.back:q+"-back";o.bnext=typeof p.next!=="undefined"?p.next:q+"-next";o.auto=typeof p.auto!=="undefined"?p.auto:5;o.width=g(q).width();o.working=false;if(o.auto!==false){o.autoInterval=setInterval(function(){g(o.bnext).click()},o.auto*1000)}g(q).find("li").each(function(){o.sliders[o.count]=g(this);o.count++;if(o.count>1){g(this).hide()}});g(q).mouseover(function(){clearInterval(o.autoInterval)});g(q).mouseout(function(){if(o.auto!==false){o.autoInterval=setInterval(function(){g(o.bnext).click()},o.auto*1000)}});g(o.bnext).click(function(){if(o.working){return}o.working=true;o.next=o.pos+1<o.count?o.pos+1:0;o.sliders[o.next].css({left:o.width+"px"}).show();o.interval=setInterval(function(){var r=parseInt(o.sliders[o.next].css("left"))-(o.width/2);r=Math.round(100-Math.abs(100/(o.width/2)*r));r=(parseInt(o.sliders[o.next].css("left"))-(o.speed/100*(r<1?1:r)));o.sliders[o.next].css({left:r+"px"});o.sliders[o.pos].css({left:(r-o.width)+"px"});if(parseInt(o.sliders[o.next].css("left"))<=0){clearInterval(o.interval);o.sliders[o.pos].hide();o.sliders[o.next].css({left:0});o.pos=o.next;o.working=false}},15)});g(o.bback).click(function(){if(o.working){return}o.working=true;o.next=o.pos>0?o.pos-1:o.count-1;o.sliders[o.next].css({left:-o.width+"px"}).show();o.interval=setInterval(function(){var r=parseInt(o.sliders[o.pos].css("left"))-(o.width/2);r=Math.round(100-Math.abs(100/(o.width/2)*r));r=(parseInt(o.sliders[o.pos].css("left"))+(o.speed/100*(r<5?5:r)));o.sliders[o.next].css({left:(r-o.width)+"px"});o.sliders[o.pos].css({left:r+"px"});if(parseInt(o.sliders[o.next].css("left"))>=0){clearInterval(o.interval);o.sliders[o.pos].hide();o.sliders[o.next].css({left:0});o.pos=o.next;o.working=false}},15)})};var e=f("swipe","1.4");e.fn=function(q,p){if(p===c){p="vertical"}e.elements[q]={};var o=e.elements[q];o.id=q;o.timeout=null;o.sticky=null;o.pos=0;o.last=0;g(q).on("drag",function(r){o.last=o.pos+r.dx;clearTimeout(o.timeout);clearTimeout(o.sticky);o.timeout=setTimeout(function(){o.pos=o.last;o.sticky=setTimeout(function(){e.priv.sticky(q)},15)},100);g(this).css({"margin-left":(o.pos+r.dx)+"px"})})};e.init=function(){if(typeof g.Finger==="undefined"){m.log("[WholeAuth:FX:Swipe] WARN jQuery Finger is not defined!");return}g.Finger.preventDefault=true};e.priv.sticky=function(q){var o=e.elements[q];if(o.pos>1){o.pos-=o.pos*0.15;o.sticky=setTimeout(function(){e.priv.sticky(q)},15)}else{if(Math.abs(o.pos)>g(o.id).width()-g(o.id).parent().width()+1){var p=g(o.id).width()-g(o.id).parent().width();o.pos+=(Math.abs(o.pos)-p)*0.15;o.sticky=setTimeout(function(){e.priv.sticky(q)},15)}}g(o.id).css({"margin-left":(o.pos)+"px"})}}(jQuery,WholeAuth));