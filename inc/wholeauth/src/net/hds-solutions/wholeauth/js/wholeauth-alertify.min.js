(function(c,b,e){var d=b.registerModule("alertify","0.3.11");var a=function(){var g={},f={},o=false,v={ENTER:13,ESC:27,SPACE:32},n=[],t,l=null,k=null,j=null,u=null,p=null,i=null,r=null,h=null,m=null,q=null,s;f={buttons:{holder:'<nav class="alertify-buttons">{{buttons}}</nav>',submit:'<button type="submit" class="alertify-button alertify-button-ok" id="alertify-ok">{{ok}}</button>',ok:'<button class="alertify-button alertify-button-ok" id="alertify-ok">{{ok}}</button>',cancel:'<button class="alertify-button alertify-button-cancel" id="alertify-cancel">{{cancel}}</button>'},input:'<div class="alertify-text-wrapper"><input type="text" class="alertify-text" id="alertify-text"></div>',message:'<p class="alertify-message">{{message}}</p>',log:'<article class="alertify-log{{class}}">{{message}}</article>'};s=function(){var x=null,z=null,w=false,y=document.createElement("fakeelement"),A={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"};for(x in A){if(y.style[x]!==e){z=A[x];w=true;break}}return{type:z,supported:w}.toString()};t=function(w){return document.getElementById(w)};g={labels:{ok:"OK",cancel:"Cancel"},delay:5000,buttonReverse:false,buttonFocus:"ok",transition:e,addListeners:function(z){var D=(typeof k!=="undefined"),G=(typeof l!=="undefined"),E=(typeof q!=="undefined"),w="",B=this,A,F,y,C=null,x=null;A=function(H){if(typeof H.preventDefault!=="undefined"){H.preventDefault()}y(H);if(typeof q!=="undefined"){w=q.value}if(typeof z==="function"){if(typeof q!=="undefined"){z(true,w)}else{z(true)}}return false};F=function(H){if(typeof H.preventDefault!=="undefined"){H.preventDefault()}y(H);if(typeof z==="function"){z(false)}return false};y=function(H){B.hide();B.unbind(document.body,"keyup",C);B.unbind(j,"focus",x);if(D){B.unbind(k,"click",A)}if(G){B.unbind(l,"click",F)}};C=function(H){var I=H.keyCode;if((I===v.SPACE&&!E)||(E&&I===v.ENTER)){A(H)}if(I===v.ESC&&G){F(H)}};x=function(H){if(E){q.focus()}else{if(!G||self.buttonReverse){k.focus()}else{l.focus()}}};this.bind(j,"focus",x);this.bind(u,"focus",x);if(D){this.bind(k,"click",A)}if(G){this.bind(l,"click",F)}this.bind(document.body,"keyup",C);if(!this.transition.supported){this.setFocus()}},bind:function(x,y,w){if(typeof x.addEventListener==="function"){x.addEventListener(y,w,false)}else{if(x.attachEvent){x.attachEvent("on"+y,w)}}},handleErrors:function(){if(typeof global.onerror!=="undefined"){var w=this;global.onerror=function(z,y,x){w.error("["+z+" on line "+x+" of "+y+"]",0)};return true}else{return false}},appendButtons:function(w,x){return this.buttonReverse?x+w:w+x},build:function(A){var x="",y=A.type,z=A.message,w=A.cssClass||"";x+='<div class="alertify-dialog">';x+='<a id="alertify-resetFocusBack" class="alertify-resetFocus" href="#">Reset Focus</a>';if(g.buttonFocus==="none"){x+='<a href="#" id="alertify-noneFocus" class="alertify-hidden"></a>'}if(y==="prompt"){x+='<div id="alertify-form">'}x+='<article class="alertify-inner">';x+=f.message.replace("{{message}}",z);if(y==="prompt"){x+=f.input}x+=f.buttons.holder;x+="</article>";if(y==="prompt"){x+="</div>"}x+='<a id="alertify-resetFocus" class="alertify-resetFocus" href="#">Reset Focus</a>';x+="</div>";switch(y){case"confirm":x=x.replace("{{buttons}}",this.appendButtons(f.buttons.cancel,f.buttons.ok));x=x.replace("{{ok}}",this.labels.ok).replace("{{cancel}}",this.labels.cancel);break;case"prompt":x=x.replace("{{buttons}}",this.appendButtons(f.buttons.cancel,f.buttons.submit));x=x.replace("{{ok}}",this.labels.ok).replace("{{cancel}}",this.labels.cancel);break;case"alert":x=x.replace("{{buttons}}",f.buttons.ok);x=x.replace("{{ok}}",this.labels.ok);break;default:break}h.className="alertify alertify-"+y+" "+w;r.className="alertify-cover";return x},close:function(x,z){var B=(z&&!isNaN(z))?+z:this.delay,A=this,y,w=null;this.bind(x,"click",function(){y(x)});w=function(C){C.stopPropagation();A.unbind(this,A.transition.type,w);m.removeChild(this);if(!m.hasChildNodes()){m.className+=" alertify-logs-hidden"}};y=function(C){if(typeof C!=="undefined"&&C.parentNode===m){if(A.transition.supported){A.bind(C,A.transition.type,w);C.className+=" alertify-log-hide"}else{m.removeChild(C);if(!m.hasChildNodes()){m.className+=" alertify-logs-hidden"}}}};if(z===0){return}setTimeout(function(){y(x)},B)},dialog:function(A,z,y,B,x){i=document.activeElement;var w=function(){if((m&&m.scrollTop!==null)&&(r&&r.scrollTop!==null)){return}else{w()}};if(typeof A!=="string"){throw new Error("message must be a string")}if(typeof z!=="string"){throw new Error("type must be a string")}if(typeof y!=="undefined"&&typeof y!=="function"){throw new Error("fn must be a function")}this.init();w();n.push({type:z,message:A,callback:y,placeholder:B,cssClass:x});if(!o){this.setup()}return this},extend:function(w){if(typeof w!=="string"){throw new Error("extend method must have exactly one paramter")}return function(x,y){this.log(x,w,y);return this}},hide:function(){var w=null,x=this;n.splice(0,1);if(n.length>0){this.setup(true)}else{o=false;w=function(y){y.stopPropagation();x.unbind(h,self.transition.type,w)};if(this.transition.supported){this.bind(h,this.transition.type,w);h.className="alertify alertify-hide alertify-hidden"}else{h.className="alertify alertify-hide alertify-hidden alertify-isHidden"}r.className="alertify-cover alertify-cover-hidden";i.focus()}},init:function(){document.createElement("nav");document.createElement("article");document.createElement("section");if(t("alertify-cover")==null){r=document.createElement("div");r.setAttribute("id","alertify-cover");r.className="alertify-cover alertify-cover-hidden";document.body.appendChild(r)}if(t("alertify")==null){o=false;n=[];h=document.createElement("section");h.setAttribute("id","alertify");h.className="alertify alertify-hidden";document.body.appendChild(h)}if(t("alertify-logs")==null){m=document.createElement("section");m.setAttribute("id","alertify-logs");m.className="alertify-logs alertify-logs-hidden";document.body.appendChild(m)}document.body.setAttribute("tabindex","0");this.transition=s()},log:function(y,x,z){var w=function(){if(m&&m.scrollTop!==null){return}else{w()}};this.init();w();m.className="alertify-logs";this.notify(y,x,z);return this},notify:function(y,x,z){var w=document.createElement("article");w.className="alertify-log"+((typeof x==="string"&&x!=="")?" alertify-log-"+x:"");w.innerHTML=y;m.appendChild(w);setTimeout(function(){w.className=w.className+" alertify-log-show"},50);this.close(w,z)},set:function(x){var w=null;if(typeof x!=="object"&&x instanceof Array){throw new Error("args must be an object")}for(w in x){if(x.hasOwnProperty(w)){this[w]=x[w]}}},setFocus:function(){if(q){q.focus();q.select()}else{p.focus()}},setup:function(w){var y=n[0],z=this,x=null;o=true;x=function(A){A.stopPropagation();z.setFocus();z.unbind(h,self.transition.type,x)};if(this.transition.supported&&!w){this.bind(h,this.transition.type,x)}h.innerHTML=this.build(y);j=t("alertify-resetFocus");u=t("alertify-resetFocusBack");k=t("alertify-ok")||e;l=t("alertify-cancel")||e;p=(g.buttonFocus==="cancel")?l:((g.buttonFocus==="none")?t("alertify-noneFocus"):k),q=t("alertify-text")||e;if(typeof y.placeholder==="string"&&y.placeholder!==""){q.value=y.placeholder}if(w){this.setFocus()}this.addListeners(y.callback)},unbind:function(x,y,w){if(typeof x.removeEventListener==="function"){x.removeEventListener(y,w,false)}else{if(x.detachEvent){x.detachEvent("on"+y,w)}}}};d.alert=function(y,x,w){g.dialog(y,"alert",x,"",w);return};d.confirm=function(y,x,w){g.dialog(y,"confirm",x,"",w);return};d.extend=g.extend;d.init=g.init;d.warn=function(x,w,y){g.log(x,w,y);return};d.prompt=function(y,x,z,w){g.dialog(y,"prompt",x,z,w);return};d.success=function(w,x){g.log(w,"success",x);return};d.error=function(w,x){g.log(w,"error",x);return};d.set=function(w){g.set(w)};d.labels=g.labels;d.debug=g.handleErrors;b.alert=d.alert;b.confirm=d.confirm;b.prompt=d.prompt};new a()}(jQuery,WholeAuth));