(function(b,a,d){var c=a.registerModule("hauth","0.1.7");var e=null;c.login=function(g,f){e=g;b.ajax({type:"POST",dataType:"json",url:".?m=auth",data:{provider:"facebook",type:"login"},success:function(h){if(h.need_auth===true){a.confirm("Se requiere que conectes tu cuenta de Facebook, deseas continuar?",function(i){if(i){window.open(".?m=auth&provider=facebook&type=auth&callback=_.hauth.authCallback","fb-dialog","toolbar=no,location=no,directories=no,status=no,menubar=no,scrollbars=no,resizable=no,copyhistory=no,width=600,height=500,left="+(screen.width/2-300)+",top="+(screen.height/2-150))}if(typeof f==="function"){f(i)}})}else{a.hauth.authCallback(h)}}})};c.authCallback=function(f){if(typeof e==="function"){e(f.success)}};c.logout=function(f){b.ajax({type:"POST",dataType:"json",url:".?m=auth",data:{provider:"facebook",type:"logout"},success:function(g){if(typeof f==="function"){f(g.success)}}})}}(jQuery,WholeAuth));